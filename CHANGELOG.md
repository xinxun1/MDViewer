# 更新日志

## v1.6.0 - 2026-01-09

### ✨ 新功能

#### UML 图表缩放功能
- 🔍 **双击放大** - 双击任意 Mermaid 图表即可全屏查看
- 🎮 **多种控制方式** - 支持按钮、键盘快捷键、鼠标滚轮缩放
- 📏 **灵活缩放** - 支持 50%-300% 缩放范围
- 🎨 **精美界面** - 全屏模态框，毛玻璃效果，流畅动画
- ⚡ **性能优化** - GPU 加速，不影响原图渲染

### 🎮 控制方式

**鼠标操作**：
- 双击图表 - 打开缩放视图
- 点击 [+] - 放大
- 点击 [−] - 缩小
- 点击 [⟲] - 重置
- 滚轮 - 连续缩放

**键盘快捷键**：
- `+` / `=` - 放大
- `-` - 缩小
- `0` - 重置到 100%
- `ESC` - 关闭

### 🔧 改进

- 优化 Mermaid 渲染流程，渲染完成后自动附加缩放事件
- 改进图表悬停效果，增加阴影和鼠标指针变化
- 添加图表提示："双击放大查看"

---

## v1.5.0 - 2026-01-09

### ✨ 新功能

#### Mermaid 图表主题优化
- 🎨 **主题自动切换** - Mermaid 图表现在会根据深色/浅色模式自动切换主题
- 📊 **更好的显示效果** - 优化了图表的边距、边框和背景样式
- 🔄 **实时更新** - 切换主题时图表自动重新渲染
- 💡 **UML 图支持** - 完美支持类图、时序图、部署图等 UML 图表

### 🔧 改进

- 优化 Mermaid 配置，添加 flowchart、sequence、gantt 等图表的特定设置
- 改进图表容器样式，支持大型图表的横向滚动
- 添加图表加载和错误状态提示
- 移除重复的内联样式，统一使用 CSS 文件

---

## v1.4.0 - 2026-01-09

### 🔧 改进

#### 简化视图模式
- 🗑️ **移除编辑模式** - 去除单独的编辑模式，简化界面操作
- 👀 **双模式切换** - 保留预览模式和分栏模式
- ✏️ **分栏编辑** - 在分栏模式下可以同时编辑和预览
- 🎯 **更简洁** - 减少按钮，界面更清爽

**理由**：编辑模式与分栏模式功能重复，保留分栏模式可以同时满足编辑和预览的需求，使界面更简洁易用。

---

## v1.3.0 - 2026-01-09

### ✨ 新功能

#### 文件夹记忆功能
- 🔖 **自动恢复** - 下次打开时自动加载上次的文件夹
- 🗄️ **IndexedDB 存储** - 使用浏览器数据库持久化保存文件夹句柄
- 🔐 **智能权限管理** - 自动检测和请求文件系统访问权限
- ⚡ **即开即用** - 无需每次重新选择文件夹，提升工作效率

### 🔧 改进

- 优化启动流程，自动恢复上次工作状态
- 改进权限处理逻辑，提供更友好的提示信息
- 增强错误处理，支持权限过期自动提示

---

## v1.2.0 - 2026-01-09

### ✨ 新功能

#### 可调整大小的分栏模式
- 🎯 **拖动调整** - 中间分隔线现在可以拖动，自由调整编辑器和预览区域的比例
- 📝 **默认分栏** - 打开文件时默认启用分栏模式，提供最佳编辑体验
- 💾 **记忆功能** - 自动保存你的分栏比例设置，下次打开时自动恢复
- 🎨 **视觉反馈** - 悬停和拖动时提供清晰的视觉提示

#### 多编码支持
- 🌐 **自动检测** - 智能识别 UTF-8、GBK、GB2312、GB18030、Big5 等编码
- 📋 **手动选择** - 工具栏提供编码选择器，支持手动指定编码格式
- 🔍 **BOM 检测** - 自动识别文件字节顺序标记
- ✅ **中文友好** - 完美支持 Windows 记事本保存的 GBK 编码文件

#### 高级 Markdown 支持
- 📐 **数学公式** - KaTeX 渲染，支持 LaTeX 语法
- 📊 **Mermaid 图表** - 支持流程图、序列图、甘特图、类图、状态图、饼图等
- 💻 **代码高亮** - 180+ 种编程语言语法高亮

### 🔧 改进

- 优化文件加载性能
- 改进编码检测算法
- 增强分栏模式的响应式体验
- 优化数学公式渲染性能
- 改进 Mermaid 图表渲染

### 📚 文档

- 新增《分栏模式使用指南》
- 新增《编码支持说明》
- 新增《完整功能演示》
- 更新《快速开始指南》

---

## v1.1.0 - 2026-01-08

### ✨ 新功能
- 📂 文件系统访问 API 支持
- 🎨 深色/浅色主题切换
- 🔍 文件搜索功能
- 💾 实时保存编辑

### 🔧 改进
- 优化界面布局
- 改进文件树渲染
- 增强错误处理

---

## v1.0.0 - 2026-01-07

### 🎉 首次发布
- 📂 基础文件浏览功能
- 👀 Markdown 预览
- ✏️ 基础编辑功能
- 💻 代码语法高亮
- 📱 响应式设计

---

## 路线图

### 即将推出
- [ ] 垂直分栏模式（上下布局）
- [ ] 导出为 PDF
- [ ] 多标签页支持
- [ ] 文档大纲导航
- [ ] 快捷键自定义

### 考虑中
- [ ] Vim 模式
- [ ] 拼写检查
- [ ] Git 集成
- [ ] 云端同步
- [ ] 协作编辑

---

**感谢使用 MD Viewer！** 🎉
