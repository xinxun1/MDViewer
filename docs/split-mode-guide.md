# 分栏模式使用指南

## 🎯 新功能介绍

MD Viewer 现在支持**可调整大小的分栏模式**，让你在编辑和预览之间找到最舒适的布局！

## ✨ 功能特点

### 1. 默认分栏模式
- 打开文件时自动启用分栏模式
- 左侧编辑，右侧实时预览
- 最适合写作和编辑 Markdown

### 2. 可拖动调整
- 中间的分隔线可以拖动
- 自由调整编辑器和预览区域的大小比例
- 拖动范围：20% - 80%

### 3. 记忆功能
- 自动保存你的分栏比例设置
- 下次打开文件时自动恢复
- 每个用户的偏好设置独立保存

## 🖱️ 如何使用

### 调整分栏大小

1. **鼠标悬停**
   - 将鼠标移到中间的分隔线上
   - 鼠标图标会变成 ↔️ 形状
   - 分隔线会高亮显示

2. **开始拖动**
   - 按住鼠标左键
   - 向左或向右拖动
   - 实时看到大小变化

3. **释放鼠标**
   - 松开鼠标左键
   - 设置自动保存
   - 下次打开自动应用

### 切换视图模式

工具栏提供三种模式按钮：

- 👁️ **预览模式** - 只看预览，适合阅读
- ✏️ **编辑模式** - 只显示编辑器，专注写作
- 📄 **分栏模式** - 同时编辑和预览（默认）

## 💡 使用场景

### 场景 1: 编写文档
```
推荐比例: 60% 编辑器 | 40% 预览
适合: 需要大量输入文字
```

### 场景 2: 调试格式
```
推荐比例: 40% 编辑器 | 60% 预览
适合: 查看渲染效果，调整样式
```

### 场景 3: 平衡模式
```
推荐比例: 50% 编辑器 | 50% 预览
适合: 日常使用，均衡体验
```

## 🎨 视觉反馈

### 正常状态
- 分隔线显示为细线
- 颜色为浅灰色

### 悬停状态
- 分隔线变粗变亮
- 显示蓝色高亮
- 中间显示拖动提示符 ⋮

### 拖动状态
- 整个内容区域显示拖动光标
- 分隔线保持高亮
- 禁用文本选择（防止干扰）

## ⌨️ 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl + S` | 保存文件 |
| 鼠标拖动 | 调整分栏大小 |

## 📱 响应式设计

### 桌面显示
- 完整的分栏体验
- 流畅的拖动调整
- 推荐分辨率: 1920x1080 及以上

### 平板显示
- 自适应布局
- 建议使用横屏模式
- 推荐分辨率: 1024x768 及以上

### 移动设备
- 在小屏幕上建议使用单一模式
- 可以切换预览或编辑模式
- 分栏模式在移动设备上可能体验不佳

## 🔧 高级设置

### 重置分栏比例

如果想要重置为默认 50:50 比例：

1. 切换到其他模式（预览或编辑）
2. 再切换回分栏模式
3. 手动拖动到 50% 位置

### 清除保存的设置

在浏览器控制台执行：
```javascript
localStorage.removeItem('md-viewer-split-ratio');
```

然后刷新页面。

## 💻 技术细节

### 拖动限制
- **最小比例**: 20%
- **最大比例**: 80%
- **目的**: 确保两侧都有足够的可用空间

### 性能优化
- 使用 CSS `flex` 布局
- 仅在拖动时更新样式
- 避免频繁的 DOM 操作

### 浏览器兼容性
- ✅ Chrome/Edge: 完美支持
- ✅ Firefox: 完美支持
- ✅ Safari: 完美支持
- ⚠️ IE11: 不支持（建议升级浏览器）

## 📝 实用技巧

### 技巧 1: 快速预览
将预览区域调大（60-70%），快速查看文档效果。

### 技巧 2: 专注写作
将编辑器调大（60-70%），获得更大的写作空间。

### 技巧 3: 对比调试
在编写复杂表格或代码块时，使用 50:50 比例实时对比。

### 技巧 4: 数学公式调试
编写数学公式时，建议 40:60 比例，更大的预览区域方便查看渲染效果。

## 🎯 常见问题

### Q: 为什么拖动后没有保存？

**A:** 
- 确保完全释放了鼠标左键
- 设置会自动保存到浏览器本地存储
- 不同浏览器的设置独立保存

### Q: 分栏比例不是我想要的？

**A:** 
- 随时可以手动拖动调整
- 新的比例会自动保存
- 清除浏览器缓存会重置为 50:50

### Q: 移动设备上能用吗？

**A:** 
- 功能可用，但体验可能不佳
- 建议在移动设备上使用单一模式
- 横屏模式下体验更好

### Q: 如何隐藏分隔线？

**A:** 
- 切换到预览模式或编辑模式
- 分隔线只在分栏模式下显示

## 🚀 未来计划

- [ ] 支持垂直分栏（上下布局）
- [ ] 支持三栏模式（大纲+编辑+预览）
- [ ] 支持拖动快照（保存多个布局方案）
- [ ] 支持键盘快捷键调整比例

---

**享受新的分栏体验！** 📝✨

如有任何问题或建议，欢迎反馈。
